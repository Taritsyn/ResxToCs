<Project Sdk="Microsoft.NET.Sdk">

	<Import Project="..\..\build\common.props" />

	<PropertyGroup>
		<VersionPrefix>1.0.0</VersionPrefix>
		<VersionSuffix>alpha2</VersionSuffix>
		<TargetFrameworks>netstandard1.3;net40</TargetFrameworks>
		<RuntimeFrameworkVersion Condition=" '$(TargetFramework)' == 'netstandard1.3' ">1.0.0</RuntimeFrameworkVersion>
		<OutputType>Library</OutputType>
		<BuildOutputTargetFolder>tools</BuildOutputTargetFolder>
		<Description>A MSBuild task that converts the `.resx` files to the `.Designer.cs` files.</Description>
		<PackageTags>Designer.cs;Generation;MSBuild;Resx</PackageTags>

		<GenerateAssemblyTitleAttribute>false</GenerateAssemblyTitleAttribute>
		<GenerateAssemblyDescriptionAttribute>false</GenerateAssemblyDescriptionAttribute>
		<GenerateAssemblyConfigurationAttribute>false</GenerateAssemblyConfigurationAttribute>
		<GenerateAssemblyCompanyAttribute>false</GenerateAssemblyCompanyAttribute>
		<GenerateAssemblyProductAttribute>false</GenerateAssemblyProductAttribute>
		<GenerateAssemblyCopyrightAttribute>false</GenerateAssemblyCopyrightAttribute>
		<GenerateAssemblyVersionAttribute>false</GenerateAssemblyVersionAttribute>
		<GenerateAssemblyFileVersionAttribute>false</GenerateAssemblyFileVersionAttribute>
	</PropertyGroup>

	<ItemGroup Condition=" '$(TargetFramework)' == 'netstandard1.3' ">
		<PackageReference Include="Microsoft.Build.Framework" Version="15.3.409" PrivateAssets="All" />
		<PackageReference Include="Microsoft.Build.Utilities.Core" Version="15.3.409" PrivateAssets="All" />
	</ItemGroup>

	<ItemGroup>
		<ProjectReference Include="..\ResxToCs.Core\ResxToCs.Core.csproj">
			<PrivateAssets>All</PrivateAssets>
		</ProjectReference>
	</ItemGroup>

	<ItemGroup>
		<Content Include="build\*.targets" PackagePath="build\" />
	</ItemGroup>

	<Target Name="AddAssemblyReferences" BeforeTargets="BeforeBuild" Condition=" '$(TargetFramework)' == 'net40' ">
		<ItemGroup>
			<Reference Include="Microsoft.Build.Framework" />
			<Reference Include="Microsoft.Build.Utilities.v4.0" />
		</ItemGroup>
	</Target>

	<Target Name="AddAdditionalAssembliesToPackage" BeforeTargets="GenerateNuspec">
		<ItemGroup>
			<_PackageFiles Include="bin\$(Configuration)\*\ResxToCs.Core.dll">
				<PackagePath>tools\%(RecursiveDir)</PackagePath>
				<Visible>false</Visible>
				<BuildAction>Content</BuildAction>
			</_PackageFiles>
		</ItemGroup>
	</Target>

</Project>